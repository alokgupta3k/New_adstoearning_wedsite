<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login & Signup Flow</title>
  <style>
    body{font-family:Arial, sans-serif;margin:0;padding:0;background:#f0f2f5;}
    .container{display:flex;justify-content:center;align-items:center;height:100vh;}
    .box{background:white;padding:30px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.2);width:320px;text-align:center;}
    h2{color:#333;}
    input{width:90%;padding:10px;margin:10px 0;border:1px solid #ccc;border-radius:6px;}
    button{width:95%;padding:10px;background:#4f46e5;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px;margin-top:5px;}
    button:hover{background:#3730a3;}

    /* Home Page */
    #homePage{display:none;padding:20px;}
    nav{display:flex;justify-content:space-between;align-items:center;background:#4f46e5;color:white;padding:15px;}
    nav h3{margin:0;}
    .coins{font-size:18px;}
    .pages{display:flex;gap:15px;margin-top:20px;}
    .pages button{flex:1;padding:15px;background:#10b981;color:white;border:none;border-radius:10px;cursor:pointer;font-size:16px;}
    .pages button:hover{background:#059669;}
    .content{margin-top:30px;text-align:center;font-size:20px;color:#333;}

    /* Signup Page */
    #signupPage{display:none;}
  </style>
</head>
<body>

  <!-- Login Page -->
  <div id="loginPage" class="container">
    <div class="box">
      <h2>Login</h2>
      <input type="text" id="loginEmail" placeholder="Email">
      <input type="password" id="loginPassword" placeholder="Password">
      <button onclick="login()">Login</button>
      <button onclick="openSignup()">Signup</button>
    </div>
  </div>

  <!-- Signup Page -->
  <div id="signupPage" class="container">
    <div class="box">
      <h2>Signup</h2>
      <input type="text" id="signupName" placeholder="Full Name">
      <input type="text" id="signupEmail" placeholder="Email">
      <input type="password" id="signupPassword" placeholder="Password">
      <button onclick="signup()">Create Account</button>
      <button onclick="backToLogin()">Back to Login</button>
    </div>
  </div>

  <!-- Home Page -->
  <div id="homePage">
    <nav>
      <h3>Welcome <span id="username"></span></h3>
      <div class="coins">ü™ô <span id="coinCount">0</span></div>
    </nav>

    <div class="pages">
      <button onclick="showPage('home')">Home</button>
      <button onclick="showPage('allwed')">All Wed</button>
      <button onclick="showPage('earn')">Earn</button>
      <button onclick="showPage('profile')">Profile</button>
    </div>

    <div class="content" id="pageContent">üè† Welcome to Home Page</div>
  </div>

  <script>
    let users = JSON.parse(localStorage.getItem("users")) || [];

    function login(){
      let email=document.getElementById("loginEmail").value;
      let pass=document.getElementById("loginPassword").value;
      let user=users.find(u=>u.email===email && u.pass===pass);

      if(user){
        document.getElementById("loginPage").style.display="none";
        document.getElementById("homePage").style.display="block";
        document.getElementById("username").innerText=user.name;
        document.getElementById("coinCount").innerText=user.coins || 0;
        localStorage.setItem("loggedIn", JSON.stringify(user));
      } else {
        alert("Invalid Login Details!");
      }
    }

    function signup(){
      let name=document.getElementById("signupName").value;
      let email=document.getElementById("signupEmail").value;
      let pass=document.getElementById("signupPassword").value;

      if(users.find(u=>u.email===email)){
        alert("Email already exists!");
        return;
      }

      let newUser={name,email,pass,coins:10};
      users.push(newUser);
      localStorage.setItem("users", JSON.stringify(users));
      alert("Signup successful! Now login.");
      backToLogin();
    }

    function showPage(page){
      let content=document.getElementById("pageContent");
      if(page==="home") content.innerHTML="üè† Welcome to Home Page";
      if(page==="allwed") content.innerHTML="üåê Welcome to All Websites Page";
      if(page==="earn") content.innerHTML="üí∞ Earn Coins and Rewards";
      if(page==="profile") content.innerHTML="üë§ Profile Details Coming Soon!";
    }

    function openSignup(){
      document.getElementById("loginPage").style.display="none";
      document.getElementById("signupPage").style.display="flex";
    }

    function backToLogin(){
      document.getElementById("signupPage").style.display="none";
      document.getElementById("loginPage").style.display="flex";
    }

    window.onload=function(){
      let logged=JSON.parse(localStorage.getItem("loggedIn"));
      if(logged){
        document.getElementById("loginPage").style.display="none";
        document.getElementById("homePage").style.display="block";
        document.getElementById("username").innerText=logged.name;
        document.getElementById("coinCount").innerText=logged.coins || 0;
      }
    }
  </script>

</body>
</html>
